<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pibbaweb Impressões de Apostilas- Compre Apostilas de Qualidade</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #1e3c72;
            --secondary: #2a5298;
            --accent: #ff6b6b;
            --success: #28a745;
            --light: #f8f9fa;
            --dark: #333;
            --gray: #6c757d;
            --gold: #ffcc00;
            --green: #2ecc71;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f8f9fa;
            color: var(--dark);
            line-height: 1.6;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Header */
        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 1.5rem 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logo i {
            font-size: 2.2rem;
        }
        
        .logo h1 {
            font-size: 1.8rem;
        }
        
        nav ul {
            display: flex;
            list-style: none;
            gap: 1.5rem;
            align-items: center;
        }
        
        nav a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
            padding: 0.5rem 0;
            position: relative;
        }
        
        nav a:hover {
            color: var(--gold);
        }
        
        .cart-icon {
            position: relative;
            cursor: pointer;
        }
        
        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background-color: var(--accent);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        /* Hero */
        .hero {
            background-color: #e9f2ff;
            padding: 3rem 0;
            text-align: center;
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
        }
        
        .hero::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0,0 L100,0 L100,100 Z" fill="rgba(255,255,255,0.2)"/></svg>');
            background-size: cover;
        }
        
        .hero-content {
            position: relative;
            z-index: 1;
        }
        
        .hero h2 {
            color: var(--primary);
            font-size: 2.2rem;
            margin-bottom: 1rem;
        }
        
        .hero p {
            font-size: 1.1rem;
            max-width: 700px;
            margin: 0 auto 1.5rem;
            color: var(--dark);
        }
        
        .encadernacao-badge {
            display: inline-block;
            background: linear-gradient(135deg, var(--green) 0%, #27ae60 100%);
            color: white;
            padding: 0.5rem 1.5rem;
            border-radius: 50px;
            font-weight: 600;
            margin: 1rem 0;
            box-shadow: 0 4px 10px rgba(46, 204, 113, 0.3);
        }
        
        /* Filters */
        .filters {
            background-color: white;
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            margin-bottom: 2rem;
            display: flex;
            flex-wrap: wrap;
            gap: 1.5rem;
            justify-content: center;
        }
        
        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .filter-group label {
            font-weight: 600;
            color: var(--primary);
        }
        
        select, input[type="number"] {
            padding: 0.6rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            min-width: 180px;
        }
        
        /* Apostilas Grid */
        .apostilas-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }
        
        .apostila-card {
            background-color: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s, box-shadow 0.3s;
            display: flex;
            flex-direction: column;
            position: relative;
        }
        
        .apostila-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.12);
        }
        
        .apostila-header {
            padding: 1.2rem;
            text-align: center;
            color: white;
            position: relative;
        }
        
        .colorida {
            background: linear-gradient(to right, #ff7e5f, #feb47b);
        }
        
        .preta {
            background: linear-gradient(to right, #485563, #29323c);
        }
        
        .apostila-header h3 {
            font-size: 1.3rem;
            margin-bottom: 0.3rem;
        }
        
        .apostila-body {
            padding: 1.5rem;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        
        .apostila-details {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1.2rem;
            font-size: 0.95rem;
            color: var(--gray);
        }
        
        .tipo-info {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .tipo-imagem {
            width: 24px;
            height: 24px;
            object-fit: cover;
            border-radius: 3px;
            border: 1px solid rgba(0,0,0,0.1);
        }
        
        .folhas-info {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .apostila-price {
            text-align: center;
            margin-bottom: 1.2rem;
            flex-grow: 1;
        }
        
        .price {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }
        
        .price-details {
            font-size: 0.85rem;
            color: var(--gray);
            margin-bottom: 1rem;
        }
        
        .encadernacao-info {
            background-color: #f0f7ff;
            padding: 0.8rem;
            border-radius: 5px;
            margin-top: 1rem;
            font-size: 0.85rem;
            border-left: 3px solid var(--green);
            position: relative;
        }
        
        .encadernacao-inclusa {
            display: inline-flex;
            align-items: center;
            gap: 0.3rem;
            background-color: var(--green);
            color: white;
            padding: 0.2rem 0.6rem;
            border-radius: 3px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        
        .apostila-actions {
            display: flex;
            justify-content: space-between;
            gap: 0.8rem;
            margin-top: auto;
        }
        
        .btn {
            padding: 0.7rem 1.2rem;
            border: none;
            border-radius: 5px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            flex: 1;
            text-align: center;
            text-decoration: none;
            display: inline-block;
        }
        
        .btn-buy {
            background-color: var(--primary);
            color: white;
        }
        
        .btn-buy:hover {
            background-color: var(--secondary);
        }
        
        .btn-details {
            background-color: #f0f0f0;
            color: var(--dark);
        }
        
        .btn-details:hover {
            background-color: #e0e0e0;
        }
        
        /* Calculator */
        .calculator {
            background-color: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            margin-bottom: 3rem;
        }
        
        .calculator h3 {
            color: var(--primary);
            margin-bottom: 1.5rem;
            text-align: center;
            font-size: 1.5rem;
        }
        
        .calculator-form {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .result {
            background-color: #f0f7ff;
            padding: 1.5rem;
            border-radius: 8px;
            text-align: center;
            border-left: 4px solid var(--primary);
            margin-top: 1rem;
        }
        
        .result h4 {
            color: var(--primary);
            margin-bottom: 0.8rem;
        }
        
        .result-price {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
        }
        
        /* Carrinho Modal */
        .cart-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            justify-content: flex-end;
        }
        
        .cart-content {
            background-color: white;
            width: 100%;
            max-width: 500px;
            height: 100%;
            padding: 2rem;
            overflow-y: auto;
            position: relative;
            animation: slideIn 0.3s ease;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }
        
        .cart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #eee;
        }
        
        .close-cart {
            font-size: 1.8rem;
            cursor: pointer;
            color: var(--gray);
        }
        
        .cart-items {
            margin-bottom: 2rem;
        }
        
        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
            border-bottom: 1px solid #eee;
        }
        
        .cart-item-info h4 {
            margin-bottom: 0.3rem;
        }
        
        .cart-item-price {
            font-weight: bold;
            color: var(--primary);
        }
        
        .cart-item-actions {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .cart-item-actions button {
            background-color: #f0f0f0;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .cart-total {
            background-color: #f8f9fa;
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 1.5rem;
        }
        
        .cart-total-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }
        
        .cart-total-final {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary);
            border-top: 2px solid #ddd;
            padding-top: 1rem;
            margin-top: 1rem;
        }
        
        /* Formulário de Identificação - NOVO */
        .checkout-options {
            margin-top: 2rem;
        }
        
        .customer-form {
            margin-top: 1.5rem;
        }
        
        .form-title {
            color: var(--primary);
            margin-bottom: 1rem;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .form-group {
            margin-bottom: 1rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--dark);
        }
        
        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        .form-group input:focus, .form-group textarea:focus, .form-group select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(30, 60, 114, 0.1);
        }
        
        .form-row {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .form-row .form-group {
            flex: 1;
            margin-bottom: 0;
        }
        
        .required {
            color: var(--accent);
        }
        
        .whatsapp-checkout {
            width: 100%;
            padding: 1rem;
            background-color: #25D366;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-top: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        
        .whatsapp-checkout:hover {
            background-color: #128C7E;
        }
        
        .whatsapp-checkout:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
        
        .form-note {
            font-size: 0.85rem;
            color: var(--gray);
            margin-top: 0.5rem;
            text-align: center;
        }
        
        /* Novos estilos para o formulário aprimorado */
        .cep-loading {
            display: none;
            font-size: 0.9rem;
            color: var(--primary);
            margin-top: 5px;
        }
        
        .cep-success {
            color: var(--success);
            font-size: 0.9rem;
            margin-top: 5px;
            display: none;
        }
        
        .cep-error {
            color: var(--accent);
            font-size: 0.9rem;
            margin-top: 5px;
            display: none;
        }
        
        .frete-calculo {
            background-color: #e8f5e9;
            padding: 1rem;
            border-radius: 8px;
            margin-top: 1rem;
            border-left: 4px solid var(--success);
            display: none;
        }
        
        .frete-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }
        
        .frete-valor {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--success);
        }
        
        .address-autofilled {
            background-color: #f0f8ff;
            border-color: var(--primary);
        }
        
        .form-group small {
            display: block;
            color: var(--gray);
            font-size: 0.85rem;
            margin-top: 0.3rem;
        }
        
        .required-field {
            color: var(--accent);
        }
        
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(0,0,0,.1);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Footer */
        footer {
            background: linear-gradient(135deg, #0d1b3e 0%, var(--primary) 100%);
            color: white;
            padding: 3rem 0 1.5rem;
            margin-top: 3rem;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2.5rem;
            margin-bottom: 2.5rem;
        }
        
        .footer-section {
            display: flex;
            flex-direction: column;
            gap: 1.2rem;
        }
        
        .footer-logo {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 1rem;
        }
        
        .footer-logo i {
            font-size: 2rem;
            color: var(--gold);
        }
        
        .footer-logo h3 {
            font-size: 1.5rem;
        }
        
        .footer-description {
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.7;
        }
        
        .footer-title {
            font-size: 1.3rem;
            margin-bottom: 1rem;
            color: white;
            position: relative;
            padding-bottom: 0.5rem;
        }
        
        .footer-title::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 50px;
            height: 3px;
            background-color: var(--gold);
            border-radius: 2px;
        }
        
        .footer-links {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }
        
        .footer-links a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }
        
        .footer-links a:hover {
            color: var(--gold);
            transform: translateX(5px);
        }
        
        .footer-contact {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .contact-item {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            margin-bottom: 0.5rem;
        }
        
        .contact-icon {
            background-color: rgba(255, 255, 255, 0.1);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--gold);
            font-size: 1.2rem;
            flex-shrink: 0;
        }
        
        .contact-info h4 {
            margin-bottom: 0.3rem;
            color: white;
        }
        
        .contact-info p {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.95rem;
        }
        
        .whatsapp-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background-color: #25D366;
            color: white;
            padding: 0.8rem 1.5rem;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
            margin-top: 0.5rem;
        }
        
        .whatsapp-link:hover {
            background-color: #128C7E;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .social-links {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .social-link {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            color: white;
            text-decoration: none;
            transition: all 0.3s;
        }
        
        .social-link:hover {
            background-color: var(--gold);
            transform: translateY(-3px);
        }
        
        .business-hours {
            background-color: rgba(255, 255, 255, 0.05);
            padding: 1.2rem;
            border-radius: 8px;
            margin-top: 0.5rem;
            border-left: 3px solid var(--gold);
        }
        
        .business-hours h5 {
            color: var(--gold);
            margin-bottom: 0.5rem;
        }
        
        .business-hours p {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.95rem;
        }
        
        .footer-bottom {
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding-top: 1.5rem;
            text-align: center;
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
        }
        
        .copyright {
            margin-bottom: 0.5rem;
        }
        
        .payment-methods-footer {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }
        
        .payment-method-icon {
            font-size: 1.8rem;
            color: rgba(255, 255, 255, 0.7);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 1rem;
            }
            
            nav ul {
                gap: 1rem;
            }
            
            .apostilas-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
            
            .filters {
                flex-direction: column;
                align-items: center;
            }
            
            .apostila-actions {
                flex-direction: column;
            }
            
            .cart-content {
                padding: 1.5rem;
            }
            
            .form-row {
                flex-direction: column;
                gap: 0;
            }
            
            .footer-content {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
            
            .footer-section {
                text-align: center;
            }
            
            .footer-title::after {
                left: 50%;
                transform: translateX(-50%);
            }
            
            .contact-item {
                justify-content: center;
            }
            
            .social-links {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- Cabeçalho -->
    <header>
        <div class="container header-content">
            <div class="logo">
                <i class="fas fa-book"></i>
                <h1>Pibbaweb Impressões de Apostilas</h1>
            </div>
            <nav>
                <ul>
                    <li><a href="#apostilas">Apostilas</a></li>
                    <li><a href="#calculadora">Calculadora</a></li>
                    <li><a href="#contato">Contato</a></li>
                    <li class="cart-icon" id="cart-icon">
                        <i class="fas fa-shopping-cart"></i>
                        <span class="cart-count" id="cart-count">0</span>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Seção Hero -->
    <section class="hero">
        <div class="container hero-content">
            <h2>Apostilas de Alta Qualidade para Venda</h2>
            <p>Mais de 40 configurações de número de páginas. Encontre a opção perfeita para suas necessidades!</p>
            <div class="encadernacao-badge">
                <i class="fas fa-check-circle"></i> ENCADERNAÇÃO JÁ INCLUSA NO PREÇO
            </div>
            </section>

    <!-- Filtros -->
    <div class="container">
        <div class="filters">
            <div class="filter-group">
                <label for="tipo">Tipo de Impressão</label>
                <select id="tipo">
                    <option value="todos">Todos os Tipos</option>
                    <option value="colorida-frente">Colorida - Só Frente</option>
                    <option value="colorida-fv">Colorida - Frente e Verso</option>
                    <option value="preta-frente">Preta - Só Frente</option>
                    <option value="preta-fv">Preta - Frente e Verso</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="folhas">Número de Folhas</label>
                <select id="folhas">
                    <option value="todos">Todas as Quantidades</option>
                    <option value="0-50">Até 50 folhas</option>
                    <option value="51-100">51 a 100 folhas</option>
                    <option value="101-200">101 a 200 folhas</option>
                    <option value="201-300">201 a 300 folhas</option>
                    <option value="301-400">301 a 400 folhas</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="encadernacao">Encadernação</label>
                <select id="encadernacao">
                    <option value="todos">Com ou Sem</option>
                    <option value="com">Com Encadernação</option>
                    <option value="sem">Sem Encadernação</option>
                </select>
            </div>
        </div>
    </div>

    <!-- Lista de Apostilas -->
    <section id="apostilas" class="container">
        <h2 style="color: var(--primary); margin-bottom: 1.5rem;">Nossas Apostilas</h2>
        <div class="apostilas-grid" id="apostilas-container">
            <!-- As apostilas serão geradas dinamicamente pelo JavaScript -->
        </div>
    </section>

    <!-- Calculadora de Preços -->
    <section id="calculadora" class="container">
        <div class="calculator">
            <h3>Calculadora de Preços Personalizada</h3>
            <div class="calculator-form">
                <div class="filter-group">
                    <label for="calc-tipo">Tipo de Impressão</label>
                    <select id="calc-tipo">
                        <option value="colorida-frente">Colorida - Só Frente</option>
                        <option value="colorida-fv">Colorida - Frente e Verso</option>
                        <option value="preta-frente">Preta - Só Frente</option>
                        <option value="preta-fv">Preta - Frente e Verso</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="calc-folhas">Número de Folhas</label>
                    <input type="number" id="calc-folhas" min="1" max="400" value="50">
                </div>
                <div class="filter-group">
                    <label for="calc-quantidade">Quantidade de Apostilas</label>
                    <input type="number" id="calc-quantidade" min="1" max="100" value="1">
                </div>
                <div class="filter-group">
                    <label for="calc-encadernacao">Encadernação</label>
                    <select id="calc-encadernacao">
                        <option value="sim">Com Encadernação (já inclusa)</option>
                        <option value="nao">Sem Encadernação</option>
                    </select>
                </div>
            </div>
            <div class="result">
                <h4>Preço Total Estimado</h4>
                <div class="result-price" id="preco-calculado">R$ 47,00</div>
                <p id="detalhes-calculadora">50 folhas × R$ 0,80 (colorida frente) + R$ 7,00 (encadernação inclusa) = R$ 47,00</p>
            </div>
        </div>
    </section>

    <!-- Carrinho de Compras com Formulário APERFEIÇOADO -->
    <div class="cart-modal" id="cart-modal">
        <div class="cart-content">
            <div class="cart-header">
                <h3>Seu Carrinho</h3>
                <span class="close-cart" id="close-cart">&times;</span>
            </div>
            
            <div class="cart-items" id="cart-items">
                <!-- Itens do carrinho serão adicionados aqui -->
            </div>
            
            <div class="cart-total">
                <div class="cart-total-item">
                    <span>Subtotal (impressão):</span>
                    <span id="cart-subtotal">R$ 0,00</span>
                </div>
                <div class="cart-total-item">
                    <span>Encadernação (já inclusa):</span>
                    <span id="cart-encadernacao">R$ 0,00</span>
                </div>
                <div class="cart-total-item" id="frete-item" style="display: none;">
                    <span>Frete:</span>
                    <span id="cart-frete">R$ 0,00</span>
                </div>
                <div class="cart-total-item cart-total-final">
                    <span>Total:</span>
                    <span id="cart-total">R$ 0,00</span>
                </div>
            </div>
            
            <div class="checkout-options">
                <div class="customer-form">
                    <h4 class="form-title"><i class="fas fa-user"></i> Dados do Cliente</h4>
                    
                    <div class="form-group">
                        <label for="customer-name">Nome Completo <span class="required">*</span></label>
                        <input type="text" id="customer-name" placeholder="Digite seu nome completo" required>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="customer-phone">Telefone <span class="required">*</span></label>
                            <input type="tel" id="customer-phone" placeholder="(11) 99999-9999" required>
                            <small>Com DDD (ex: 11999999999)</small>
                        </div>
                        <div class="form-group">
                            <label for="customer-email">E-mail <span class="required">*</span></label>
                            <input type="email" id="customer-email" placeholder="seuemail@exemplo.com" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="customer-cep">CEP <span class="required">*</span></label>
                            <input type="text" id="customer-cep" placeholder="00000-000" required maxlength="9">
                            <div class="cep-loading" id="cep-loading">
                                <span class="loading-spinner"></span> Buscando endereço...
                            </div>
                            <div class="cep-success" id="cep-success">
                                <i class="fas fa-check-circle"></i> Endereço encontrado!
                            </div>
                            <div class="cep-error" id="cep-error">
                                <i class="fas fa-exclamation-circle"></i> CEP não encontrado. Preencha manualmente.
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="customer-number">Número <span class="required">*</span></label>
                            <input type="text" id="customer-number" placeholder="Número" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="customer-street">Rua <span class="required">*</span></label>
                        <input type="text" id="customer-street" placeholder="Nome da rua" required>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="customer-neighborhood">Bairro <span class="required">*</span></label>
                            <input type="text" id="customer-neighborhood" placeholder="Nome do bairro" required>
                        </div>
                        <div class="form-group">
                            <label for="customer-city">Cidade <span class="required">*</span></label>
                            <input type="text" id="customer-city" placeholder="Nome da cidade" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="customer-state">Estado <span class="required">*</span></label>
                            <input type="text" id="customer-state" placeholder="UF" required maxlength="2">
                        </div>
                        <div class="form-group">
                            <label for="customer-complement">Complemento (opcional)</label>
                            <input type="text" id="customer-complement" placeholder="Apto, bloco, etc.">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="delivery-method">Forma de Entrega <span class="required">*</span></label>
                        <select id="delivery-method" required>
                            <option value="">Selecione...</option>
                            <option value="retirada">Retirada no Local (Sem custo)</option>
                            <option value="entrega">Entrega em Domicílio (Frete calculado por distância)</option>
                        </select>
                        <small>Retirada: Av. Brasil, 284 - Casqueiro, Cubatão - SP</small>
                    </div>
                    
                    <div class="frete-calculo" id="frete-calculo">
                        <div class="frete-info">
                            <span>Distância até sua localização:</span>
                            <span id="distancia-texto">0 km</span>
                        </div>
                        <div class="frete-info">
                            <span>Valor do frete (R$ 1,90/km):</span>
                            <span class="frete-valor" id="valor-frete">R$ 0,00</span>
                        </div>
                        <small><i class="fas fa-info-circle"></i> O frete será adicionado ao total final do pedido.</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="customer-notes">Observações (opcional)</label>
                        <textarea id="customer-notes" rows="3" placeholder="Alguma observação sobre o pedido..."></textarea>
                    </div>
                    
                    <button class="whatsapp-checkout" id="whatsapp-checkout" disabled>
                        <i class="fab fa-whatsapp"></i> Enviar Pedido por WhatsApp
                    </button>
                    
                    <p class="form-note">
                        <span class="required">*</span> Campos obrigatórios<br>
                        Ao clicar no botão, você será redirecionado para o WhatsApp para finalizar o pedido.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Rodapé -->
    <footer id="contato">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-logo">
                        <i class="fas fa-book"></i>
                        <h3>Apostilas Premium</h3>
                    </div>
                    <p class="footer-description">
                        Oferecemos apostilas de alta qualidade com impressão colorida ou preta, encadernação profissional inclusa e entrega rápida. Mais de 40 modelos disponíveis para atender suas necessidades.
                    </p>
                    <div class="social-links">
                        <a href="https://www.facebook.com/pibbaweb1" target="_blank" class="social-link">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="https://www.instagram.com/pibbaweb1/" target="_blank" class="social-link">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="https://wa.me/5513988089754" target="_blank" class="social-link">
                            <i class="fab fa-whatsapp"></i>
                        </a>
                        <a href="mailto:avenidabrail284@gmail.com" class="social-link">
                            <i class="fas fa-envelope"></i>
                        </a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h4 class="footer-title">Links Rápidos</h4>
                    <div class="footer-links">
                        <a href="#apostilas">
                            <i class="fas fa-chevron-right"></i>
                            Apostilas
                        </a>
                        <a href="#calculadora">
                            <i class="fas fa-chevron-right"></i>
                            Calculadora de Preços
                        </a>
                        <a href="#">
                            <i class="fas fa-chevron-right"></i>
                            Sobre Nós
                        </a>
                        <a href="#">
                            <i class="fas fa-chevron-right"></i>
                            Termos de Serviço
                        </a>
                        <a href="#">
                            <i class="fas fa-chevron-right"></i>
                            Política de Privacidade
                        </a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h4 class="footer-title">Entre em Contato</h4>
                    <div class="footer-contact">
                        <div class="contact-item">
                            <div class="contact-icon">
                                <i class="fas fa-envelope"></i>
                            </div>
                            <div class="contact-info">
                                <h4>Email</h4>
                                <p><a href="mailto:avenidabrail284@gmail.com" style="color: rgba(255, 255, 255, 0.8); text-decoration: none;">avenidabrail284@gmail.com</a></p>
                            </div>
                        </div>
                        
                        <div class="contact-item">
                            <div class="contact-icon">
                                <i class="fab fa-whatsapp"></i>
                            </div>
                            <div class="contact-info">
                                <h4>WhatsApp</h4>
                                <p><a href="https://wa.me/5513988089754" target="_blank" class="whatsapp-link">
                                    <i class="fab fa-whatsapp"></i>
                                    (13) 98808-9754
                                </a></p>
                            </div>
                        </div>
                        
                        <div class="business-hours">
                            <h5><i class="fas fa-clock"></i> Horário de Atendimento Online </h5>
                            <p>Segunda a Sexta-feira</p>
                            <p>08:00 às 20:00</p>
                        </div>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h4 class="footer-title">Encadernação Padrão</h4>
                    <div class="footer-description">
                        <p><strong>Material utilizado (já incluso no preço):</strong></p>
                        <ul style="padding-left: 1.2rem; margin-top: 0.5rem;">
                            <li>Capa de cor Preta no Final</li>
                            <li>Capa Transparente</li>
                            <li>Encadernação na Esquerda</li>
                            <li>Espiral Preto</li>
                        </ul>
                        <p style="margin-top: 1rem; background-color: rgba(46, 204, 113, 0.1); padding: 0.8rem; border-radius: 5px; border-left: 3px solid var(--green);">
                            <strong><i class="fas fa-check-circle" style="color: var(--green);"></i> Encadernação já inclusa:</strong> R$ 7,00 por apostila já está incluído no preço.
                        </p>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <div class="copyright">
                    &copy; 2026 Pibbaweb Impressões de Apostilas.
                </div>
                
                <div class="payment-methods-footer">
                    <i class="fab fa-cc-visa payment-method-icon" title="Visa"></i>
                    <i class="fab fa-cc-mastercard payment-method-icon" title="Mastercard"></i>
                    <i class="fab fa-cc-amex payment-method-icon" title="American Express"></i>
                    <i class="fab fa-cc-paypal payment-method-icon" title="PayPal"></i>
                    <i class="fas fa-qrcode payment-method-icon" title="PIX"></i>
                    <i class="fas fa-university payment-method-icon" title="Boleto"></i>
                </div>
                
                <p style="margin-top: 1rem;">Desenvolvido com <i class="fas fa-heart" style="color: #ff6b6b;"></i> para você</p>
            </div>
        </div>
    </footer>

    <script>
        // Função para obter preço por folha baseado na quantidade
        function obterPrecoPorFolha(tipo, folhas) {
            // Para colorida-frente
            if (tipo === 'colorida-frente') {
                if (folhas <= 100) {
                    return 0.80; // R$ 0,80 até 100 folhas
                } else if (folhas <= 300) {
                    return 0.70; // R$ 0,70 até 300 folhas
                } else {
                    return 0.60; // R$ 0,60 acima de 300 folhas (preço especial para grandes quantidades)
                }
            }
            
            // Para colorida-frente e verso
            if (tipo === 'colorida-fv') {
                if (folhas <= 100) {
                    return 1.60; // Dobro de 0,80
                } else if (folhas <= 300) {
                    return 1.40; // Dobro de 0,70
                } else {
                    return 1.20; // Dobro de 0,60
                }
            }
            
            // Para preta-frente (mantendo preços anteriores)
            if (tipo === 'preta-frente') {
                return 0.55;
            }
            
            // Para preta-frente e verso (mantendo preços anteriores)
            if (tipo === 'preta-fv') {
                return 0.80;
            }
            
            // Valor padrão (não deve acontecer)
            return 0.80;
        }
        
        // Preço da encadernação
        const PRECO_ENCADERNAÇÃO = 7.00;
        
        // Preço do frete por km
        const PRECO_FRETE_POR_KM = 1.90;
        
        // Endereço da loja
        const LOJA_ENDERECO = {
            cep: "11533000",
            logradouro: "Av. Brasil",
            numero: "284",
            bairro: "Casqueiro",
            cidade: "Cubatão",
            estado: "SP",
            coordenadas: {
                lat: -23.8956,
                lng: -46.4238
            }
        };
        
        // Tipos de apostila
        const TIPOS = [
            { id: 'colorida-frente', nome: 'Colorida - Só Frente', classe: 'colorida' },
            { id: 'colorida-fv', nome: 'Colorida - Frente e Verso', classe: 'colorida' },
            { id: 'preta-frente', nome: 'Preta - Só Frente', classe: 'preta' },
            { id: 'preta-fv', nome: 'Preta - Frente e Verso', classe: 'preta' }
        ];
        
        // Imagens para os tipos de apostila
        const IMAGENS_TIPO = {
            'colorida': 'https://images.unsplash.com/photo-1589998059171-988d887df646?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80',
            'preta': 'https://images.unsplash.com/photo-1545231027-637d2f6210f8?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80'
        };
        
        // Gerar números de folhas variados (mais de 40 modelos)
        const folhasVariadas = [];
        for (let i = 10; i <= 100; i += 10) {
            folhasVariadas.push(i);
        }
        for (let i = 120; i <= 200; i += 20) {
            folhasVariadas.push(i);
        }
        for (let i = 220; i <= 400; i += 20) {
            folhasVariadas.push(i);
        }
        
        // Gerar todas as apostilas com os novos preços diferenciados
        let apostilas = [];
        TIPOS.forEach(tipo => {
            folhasVariadas.forEach(folhas => {
                const precoPorFolha = obterPrecoPorFolha(tipo.id, folhas);
                const precoSemEncadernacao = (precoPorFolha * folhas).toFixed(2);
                const precoComEncadernacao = (parseFloat(precoSemEncadernacao) + PRECO_ENCADERNAÇÃO).toFixed(2);
                
                apostilas.push({
                    id: `${tipo.id}-${folhas}`,
                    tipo: tipo.id,
                    tipoNome: tipo.nome,
                    classe: tipo.classe,
                    folhas: folhas,
                    precoPorFolha: precoPorFolha,
                    precoSemEncadernacao: precoSemEncadernacao,
                    precoComEncadernacao: precoComEncadernacao,
                    imagemTipo: IMAGENS_TIPO[tipo.classe]
                });
            });
        });
        
        // Carrinho de compras
        let carrinho = [];
        
        // Renderizar apostilas
        function renderApostilas(apostilasParaRenderizar) {
            const container = document.getElementById('apostilas-container');
            container.innerHTML = '';
            
            if (apostilasParaRenderizar.length === 0) {
                container.innerHTML = '<p style="grid-column: 1 / -1; text-align: center; padding: 2rem;">Nenhuma apostila encontrada com os filtros selecionados.</p>';
                return;
            }
            
            apostilasParaRenderizar.forEach(apostila => {
                const card = document.createElement('div');
                card.className = 'apostila-card';
                card.dataset.id = apostila.id;
                
                // Adicionar badge para preços especiais
                let precoEspecialBadge = '';
                if (apostila.tipo === 'colorida-frente' || apostila.tipo === 'colorida-fv') {
                    if (apostila.folhas <= 100) {
                        precoEspecialBadge = '<div style="background-color: #ffcc00; color: #333; padding: 0.3rem 0.8rem; border-radius: 3px; font-size: 0.8rem; font-weight: bold; margin-top: 0.5rem;">PREÇO ESPECIAL ATÉ 100 FOLHAS</div>';
                    } else if (apostila.folhas <= 300) {
                        precoEspecialBadge = '<div style="background-color: #2ecc71; color: white; padding: 0.3rem 0.8rem; border-radius: 3px; font-size: 0.8rem; font-weight: bold; margin-top: 0.5rem;">PREÇO ESPECIAL ATÉ 300 FOLHAS</div>';
                    }
                }
                
                card.innerHTML = `
                    <div class="apostila-header ${apostila.classe}">
                        <h3>${apostila.tipoNome}</h3>
                        <p>${apostila.folhas} folhas</p>
                    </div>
                    <div class="apostila-body">
                        <div class="apostila-details">
                            <div class="tipo-info">
                                <img src="${apostila.imagemTipo}" alt="${apostila.tipoNome.split(' - ')[0]}" class="tipo-imagem">
                                <span>${apostila.tipoNome.split(' - ')[0]}</span>
                            </div>
                            <div class="folhas-info">
                                <i class="fas fa-file-alt"></i>
                                <span>${apostila.folhas} folhas</span>
                            </div>
                        </div>
                        <div class="apostila-price">
                            <div class="price">R$ ${parseFloat(apostila.precoComEncadernacao).toLocaleString('pt-BR', {minimumFractionDigits: 2, maximumFractionDigits: 2})}</div>
                            <div class="price-details">
                                <span>Preço já inclui encadernação</span>
                            </div>
                            <div class="encadernacao-info">
                                <div class="encadernacao-inclusa">
                                    <i class="fas fa-check"></i> ENCADERNAÇÃO INCLUSA
                                </div>
                                <p><strong>Valor da encadernação:</strong> R$ 7,00 (já incluso)</p>
                                <p><strong>Preço por folha:</strong> R$ ${apostila.precoPorFolha.toLocaleString('pt-BR', {minimumFractionDigits: 2, maximumFractionDigits: 2})}</p>
                                <p>Capa Preta no Final, Capa Transparente, Encadernação na Esquerda, Espiral Preto</p>
                                ${precoEspecialBadge}
                            </div>
                        </div>
                        <div class="apostila-actions">
                            <button class="btn btn-buy btn-add-cart" data-id="${apostila.id}">Adicionar ao Carrinho</button>
                            <button class="btn btn-details btn-view-details" data-id="${apostila.id}">Detalhes</button>
                        </div>
                    </div>
                `;
                
                container.appendChild(card);
            });
            
            // Adicionar eventos aos botões
            document.querySelectorAll('.btn-add-cart').forEach(btn => {
                btn.addEventListener('click', function() {
                    const apostilaId = this.dataset.id;
                    adicionarAoCarrinho(apostilaId);
                });
            });
            
            document.querySelectorAll('.btn-view-details').forEach(btn => {
                btn.addEventListener('click', function() {
                    const apostilaId = this.dataset.id;
                    const apostila = apostilas.find(a => a.id === apostilaId);
                    mostrarDetalhes(apostila);
                });
            });
        }
        
        // Filtrar apostilas
        function filtrarApostilas() {
            const tipoSelecionado = document.getElementById('tipo').value;
            const folhasSelecionadas = document.getElementById('folhas').value;
            const encadernacaoSelecionada = document.getElementById('encadernacao').value;
            
            let apostilasFiltradas = apostilas;
            
            // Filtrar por tipo
            if (tipoSelecionado !== 'todos') {
                apostilasFiltradas = apostilasFiltradas.filter(apostila => apostila.tipo === tipoSelecionado);
            }
            
            // Filtrar por número de folhas
            if (folhasSelecionadas !== 'todos') {
                let min, max;
                switch (folhasSelecionadas) {
                    case '0-50':
                        min = 0;
                        max = 50;
                        break;
                    case '51-100':
                        min = 51;
                        max = 100;
                        break;
                    case '101-200':
                        min = 101;
                        max = 200;
                        break;
                    case '201-300':
                        min = 201;
                        max = 300;
                        break;
                    case '301-400':
                        min = 301;
                        max = 400;
                        break;
                }
                
                apostilasFiltradas = apostilasFiltradas.filter(apostila => apostila.folhas >= min && apostila.folhas <= max);
            }
            
            renderApostilas(apostilasFiltradas);
        }
        
        // Adicionar ao carrinho
        function adicionarAoCarrinho(apostilaId) {
            const apostila = apostilas.find(a => a.id === apostilaId);
            const itemExistente = carrinho.find(item => item.id === apostilaId);
            
            if (itemExistente) {
                itemExistente.quantidade += 1;
            } else {
                carrinho.push({
                    id: apostila.id,
                    tipoNome: apostila.tipoNome,
                    folhas: apostila.folhas,
                    precoPorFolha: apostila.precoPorFolha,
                    precoUnitario: parseFloat(apostila.precoComEncadernacao),
                    quantidade: 1
                });
            }
            
            atualizarCarrinho();
            mostrarFeedback(`${apostila.tipoNome} (${apostila.folhas} folhas) adicionada ao carrinho!`);
        }
        
        // Atualizar carrinho com frete
        function atualizarCarrinho() {
            const totalItens = carrinho.reduce((total, item) => total + item.quantidade, 0);
            document.getElementById('cart-count').textContent = totalItens;
            
            const cartItems = document.getElementById('cart-items');
            const cartSubtotal = document.getElementById('cart-subtotal');
            const cartEncadernacao = document.getElementById('cart-encadernacao');
            const cartTotal = document.getElementById('cart-total');
            const freteItem = document.getElementById('frete-item');
            const cartFrete = document.getElementById('cart-frete');
            const whatsappButton = document.getElementById('whatsapp-checkout');
            
            if (carrinho.length === 0) {
                cartItems.innerHTML = '<p>Seu carrinho está vazio. Adicione apostilas para continuar.</p>';
                cartSubtotal.textContent = 'R$ 0,00';
                cartEncadernacao.textContent = 'R$ 0,00';
                cartTotal.textContent = 'R$ 0,00';
                freteItem.style.display = 'none';
                whatsappButton.disabled = true;
                return;
            }
            
            // Calcular subtotais
            let subtotalImpressao = 0;
            let encadernacaoTotal = 0;
            let subtotal = 0;
            
            cartItems.innerHTML = '';
            carrinho.forEach(item => {
                const itemElement = document.createElement('div');
                itemElement.className = 'cart-item';
                
                const precoTotalItem = item.precoUnitario * item.quantidade;
                const precoEncadernacaoItem = PRECO_ENCADERNAÇÃO * item.quantidade;
                const precoImpressaoItem = precoTotalItem - precoEncadernacaoItem;
                
                subtotalImpressao += precoImpressaoItem;
                encadernacaoTotal += precoEncadernacaoItem;
                subtotal += precoTotalItem;
                
                itemElement.innerHTML = `
                    <div class="cart-item-info">
                        <h4>${item.tipoNome}</h4>
                        <p>${item.folhas} folhas</p>
                        <p><small>Preço por folha: R$ ${item.precoPorFolha.toLocaleString('pt-BR', {minimumFractionDigits: 2})}</small></p>
                        <p class="cart-item-price">R$ ${item.precoUnitario.toLocaleString('pt-BR', {minimumFractionDigits: 2, maximumFractionDigits: 2})} cada</p>
                    </div>
                    <div class="cart-item-actions">
                        <button class="btn-decrease" data-id="${item.id}">-</button>
                        <span>${item.quantidade}</span>
                        <button class="btn-increase" data-id="${item.id}">+</button>
                        <button class="btn-remove" data-id="${item.id}"><i class="fas fa-trash"></i></button>
                    </div>
                `;
                
                cartItems.appendChild(itemElement);
            });
            
            // Calcular frete se necessário
            const deliveryMethod = document.getElementById('delivery-method').value;
            let freteValor = 0;
            
            if (deliveryMethod === 'entrega') {
                const freteCalculado = parseFloat(document.getElementById('valor-frete').textContent.replace('R$ ', '').replace(',', '.'));
                if (!isNaN(freteCalculado)) {
                    freteValor = freteCalculado;
                }
            }
            
            // Atualizar totais
            cartSubtotal.textContent = `R$ ${subtotalImpressao.toLocaleString('pt-BR', {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;
            cartEncadernacao.textContent = `R$ ${encadernacaoTotal.toLocaleString('pt-BR', {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;
            
            if (freteValor > 0) {
                freteItem.style.display = 'flex';
                cartFrete.textContent = `R$ ${freteValor.toLocaleString('pt-BR', {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;
            } else {
                freteItem.style.display = 'none';
            }
            
            const totalFinal = subtotal + freteValor;
            cartTotal.textContent = `R$ ${totalFinal.toLocaleString('pt-BR', {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;
            
            // Habilitar botão do WhatsApp se houver itens e formulário válido
            const formValido = validarFormularioCliente();
            whatsappButton.disabled = !(carrinho.length > 0 && formValido);
            
            // Adicionar eventos aos botões do carrinho
            document.querySelectorAll('.btn-decrease').forEach(btn => {
                btn.addEventListener('click', function() {
                    const itemId = this.dataset.id;
                    alterarQuantidade(itemId, -1);
                });
            });
            
            document.querySelectorAll('.btn-increase').forEach(btn => {
                btn.addEventListener('click', function() {
                    const itemId = this.dataset.id;
                    alterarQuantidade(itemId, 1);
                });
            });
            
            document.querySelectorAll('.btn-remove').forEach(btn => {
                btn.addEventListener('click', function() {
                    const itemId = this.dataset.id;
                    removerDoCarrinho(itemId);
                });
            });
        }
        
        // Alterar quantidade no carrinho
        function alterarQuantidade(itemId, mudanca) {
            const itemIndex = carrinho.findIndex(item => item.id === itemId);
            
            if (itemIndex !== -1) {
                carrinho[itemIndex].quantidade += mudanca;
                
                if (carrinho[itemIndex].quantidade <= 0) {
                    carrinho.splice(itemIndex, 1);
                }
                
                atualizarCarrinho();
            }
        }
        
        // Remover do carrinho
        function removerDoCarrinho(itemId) {
            const itemIndex = carrinho.findIndex(item => item.id === itemId);
            
            if (itemIndex !== -1) {
                const itemRemovido = carrinho[itemIndex];
                carrinho.splice(itemIndex, 1);
                atualizarCarrinho();
                mostrarFeedback(`${itemRemovido.tipoNome} removida do carrinho.`);
            }
        }
        
        // Calcular preço personalizado
        function calcularPreco() {
            const tipo = document.getElementById('calc-tipo').value;
            const folhas = parseInt(document.getElementById('calc-folhas').value);
            const quantidade = parseInt(document.getElementById('calc-quantidade').value);
            const encadernacao = document.getElementById('calc-encadernacao').value;
            
            if (folhas < 1 || folhas > 400) {
                alert('O número de folhas deve estar entre 1 e 400.');
                return;
            }
            
            const precoPorFolha = obterPrecoPorFolha(tipo, folhas);
            const precoImpressao = precoPorFolha * folhas * quantidade;
            const precoEncadernacao = encadernacao === 'sim' ? PRECO_ENCADERNAÇÃO * quantidade : 0;
            const precoTotal = precoImpressao + precoEncadernacao;
            
            // Formatar detalhes do cálculo
            let detalhes = '';
            
            if (tipo.includes('colorida')) {
                if (tipo.includes('fv')) {
                    detalhes = `${folhas} folhas × R$ ${(precoPorFolha).toLocaleString('pt-BR', {minimumFractionDigits: 2})} (impressão colorida frente e verso)`;
                } else {
                    detalhes = `${folhas} folhas × R$ ${precoPorFolha.toLocaleString('pt-BR', {minimumFractionDigits: 2})} (impressão colorida frente)`;
                }
            } else {
                if (tipo.includes('fv')) {
                    detalhes = `${folhas} folhas × R$ ${precoPorFolha.toLocaleString('pt-BR', {minimumFractionDigits: 2})} (impressão preta frente e verso)`;
                } else {
                    detalhes = `${folhas} folhas × R$ ${precoPorFolha.toLocaleString('pt-BR', {minimumFractionDigits: 2})} (impressão preta frente)`;
                }
            }
            
            detalhes += ` × ${quantidade} apostilas = R$ ${precoImpressao.toLocaleString('pt-BR', {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;
            
            if (encadernacao === 'sim') {
                detalhes += ` + R$ ${precoEncadernacao.toLocaleString('pt-BR', {minimumFractionDigits: 2, maximumFractionDigits: 2})} (encadernação já inclusa)`;
            }
            
            detalhes += ` = R$ ${precoTotal.toLocaleString('pt-BR', {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;
            
            // Atualizar a interface
            document.getElementById('preco-calculado').textContent = `R$ ${precoTotal.toLocaleString('pt-BR', {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;
            document.getElementById('detalhes-calculadora').textContent = detalhes;
        }
        
        // Mostrar detalhes da apostila
        function mostrarDetalhes(apostila) {
            const precoSemEncadernacao = parseFloat(apostila.precoSemEncadernacao);
            const precoComEncadernacao = parseFloat(apostila.precoComEncadernacao);
            
            let faixaPreco = '';
            if (apostila.tipo === 'colorida-frente' || apostila.tipo === 'colorida-fv') {
                if (apostila.folhas <= 100) {
                    faixaPreco = 'Até 100 folhas: R$ 0,80 por folha (colorida frente)';
                } else if (apostila.folhas <= 300) {
                    faixaPreco = '101 a 300 folhas: R$ 0,70 por folha (colorida frente)';
                } else {
                    faixaPreco = 'Acima de 300 folhas: R$ 0,60 por folha (colorida frente)';
                }
            }
            
            const detalhes = `
                <strong>Tipo:</strong> ${apostila.tipoNome}<br>
                <strong>Folhas:</strong> ${apostila.folhas}<br>
                <strong>Faixa de preço:</strong> ${faixaPreco}<br>
                <strong>Preço por folha:</strong> R$ ${apostila.precoPorFolha.toLocaleString('pt-BR', {minimumFractionDigits: 2})}<br>
                <strong>Preço impressão:</strong> R$ ${precoSemEncadernacao.toLocaleString('pt-BR', {minimumFractionDigits: 2, maximumFractionDigits: 2})}<br>
                <strong>Encadernação (já inclusa):</strong> R$ ${PRECO_ENCADERNAÇÃO.toLocaleString('pt-BR', {minimumFractionDigits: 2, maximumFractionDigits: 2})}<br>
                <strong>Preço total (com encadernação):</strong> R$ ${precoComEncadernacao.toLocaleString('pt-BR', {minimumFractionDigits: 2, maximumFractionDigits: 2})}<br><br>
                <strong>Detalhes da encadernação (já inclusa no preço):</strong><br>
                - Capa Preta no Final<br>
                - Capa Transparente<br>
                - Encadernação na Esquerda<br>
                - Espiral Preto<br><br>
                <strong><i class="fas fa-check-circle"></i> Encadernação já está incluída no preço total.</strong>
            `;
            
            alert(detalhes);
        }
        
        // Mostrar feedback
        function mostrarFeedback(mensagem) {
            const feedback = document.createElement('div');
            feedback.style.cssText = `
                position: fixed;
                bottom: 20px;
                right: 20px;
                background-color: var(--success);
                color: white;
                padding: 1rem 1.5rem;
                border-radius: 8px;
                box-shadow: 0 5px 15px rgba(0,0,0,0.2);
                z-index: 3000;
                animation: slideUp 0.3s ease;
            `;
            
            feedback.innerHTML = `<i class="fas fa-check-circle"></i> ${mensagem}`;
            document.body.appendChild(feedback);
            
            setTimeout(() => {
                feedback.style.animation = 'slideDown 0.3s ease';
                setTimeout(() => {
                    document.body.removeChild(feedback);
                }, 300);
            }, 3000);
        }
        
        // Função para buscar endereço pelo CEP
        async function buscarEnderecoPorCEP(cep) {
            const cepNumerico = cep.replace(/\D/g, '');
            
            if (cepNumerico.length !== 8) {
                return null;
            }
            
            try {
                const response = await fetch(`https://viacep.com.br/ws/${cepNumerico}/json/`);
                const data = await response.json();
                
                if (data.erro) {
                    return null;
                }
                
                return {
                    cep: data.cep,
                    logradouro: data.logradouro,
                    bairro: data.bairro,
                    cidade: data.localidade,
                    estado: data.uf,
                    complemento: data.complemento || ''
                };
            } catch (error) {
                console.error('Erro ao buscar CEP:', error);
                return null;
            }
        }
        
        // Função para calcular distância (simulação)
        async function calcularFrete(cepCliente) {
            if (!cepCliente || cepCliente.replace(/\D/g, '').length !== 8) {
                return 0;
            }
            
            try {
                // Simulação de cálculo de distância
                // Em produção, use uma API de geolocalização real
                const distancia = 5 + Math.random() * 15; // 5 a 20 km
                const valorFrete = distancia * PRECO_FRETE_POR_KM;
                
                return {
                    distancia: distancia.toFixed(1),
                    valor: Math.max(5, valorFrete) // Frete mínimo de R$ 5,00
                };
            } catch (error) {
                console.error('Erro ao calcular frete:', error);
                return {
                    distancia: 5,
                    valor: 5 * PRECO_FRETE_POR_KM
                };
            }
        }
        
        // Validar formulário do cliente
        function validarFormularioCliente() {
            const nome = document.getElementById('customer-name').value.trim();
            const telefone = document.getElementById('customer-phone').value.trim();
            const email = document.getElementById('customer-email').value.trim();
            const cep = document.getElementById('customer-cep').value.trim();
            const numero = document.getElementById('customer-number').value.trim();
            const rua = document.getElementById('customer-street').value.trim();
            const bairro = document.getElementById('customer-neighborhood').value.trim();
            const cidade = document.getElementById('customer-city').value.trim();
            const estado = document.getElementById('customer-state').value.trim();
            const deliveryMethod = document.getElementById('delivery-method').value;
            
            // Validações básicas
            if (!nome || nome.length < 3) return false;
            if (!telefone || telefone.replace(/\D/g, '').length < 10) return false;
            if (!email || !email.includes('@') || !email.includes('.')) return false;
            if (!cep || cep.replace(/\D/g, '').length !== 8) return false;
            if (!numero) return false;
            if (!rua) return false;
            if (!bairro) return false;
            if (!cidade) return false;
            if (!estado || estado.length !== 2) return false;
            if (!deliveryMethod) return false;
            
            return true;
        }
        
        // Enviar pedido por WhatsApp
        async function enviarPedidoWhatsApp() {
            if (!validarFormularioCliente()) {
                alert('Por favor, preencha todos os campos obrigatórios corretamente.');
                return;
            }
            
            if (carrinho.length === 0) {
                alert('Seu carrinho está vazio. Adicione apostilas antes de enviar o pedido.');
                return;
            }
            
            // Coletar dados do formulário
            const nome = document.getElementById('customer-name').value.trim();
            const telefone = document.getElementById('customer-phone').value.trim();
            const email = document.getElementById('customer-email').value.trim();
            const cep = document.getElementById('customer-cep').value.trim();
            const numero = document.getElementById('customer-number').value.trim();
            const rua = document.getElementById('customer-street').value.trim();
            const bairro = document.getElementById('customer-neighborhood').value.trim();
            const cidade = document.getElementById('customer-city').value.trim();
            const estado = document.getElementById('customer-state').value.trim();
            const complemento = document.getElementById('customer-complement').value.trim();
            const metodoEntrega = document.getElementById('delivery-method').value;
            const observacoes = document.getElementById('customer-notes').value.trim();
            
            // Formatar mensagem para WhatsApp
            let mensagem = `*🛒 NOVO PEDIDO - APOSTILAS PREMIUM*\n\n`;
            mensagem += `*📋 DADOS DO CLIENTE:*\n`;
            mensagem += `👤 Nome: ${nome}\n`;
            mensagem += `📱 Telefone: ${telefone}\n`;
            mensagem += `📧 E-mail: ${email}\n`;
            mensagem += `📍 Endereço: ${rua}, ${numero}${complemento ? ', ' + complemento : ''}\n`;
            mensagem += `🏘️ Bairro: ${bairro}\n`;
            mensagem += `🏙️ Cidade: ${cidade} - ${estado}\n`;
            mensagem += `📮 CEP: ${cep}\n`;
            mensagem += `🚚 Entrega: ${metodoEntrega === 'retirada' ? 'Retirada no Local' : 'Entrega em Domicílio'}\n`;
            if (observacoes) mensagem += `📝 Observações: ${observacoes}\n`;
            mensagem += `\n`;
            
            mensagem += `*🛍️ ITENS DO PEDIDO:*\n`;
            let totalImpressao = 0;
            let totalEncadernacao = 0;
            let totalGeral = 0;
            
            carrinho.forEach((item, index) => {
                const precoTotalItem = item.precoUnitario * item.quantidade;
                const precoEncadernacaoItem = PRECO_ENCADERNAÇÃO * item.quantidade;
                const precoImpressaoItem = precoTotalItem - precoEncadernacaoItem;
                
                totalImpressao += precoImpressaoItem;
                totalEncadernacao += precoEncadernacaoItem;
                totalGeral += precoTotalItem;
                
                mensagem += `${index + 1}. *${item.tipoNome}* - ${item.folhas} folhas\n`;
                mensagem += `   Quantidade: ${item.quantidade}\n`;
                mensagem += `   Preço por folha: R$ ${item.precoPorFolha.toLocaleString('pt-BR', {minimumFractionDigits: 2})}\n`;
                mensagem += `   Preço unitário: R$ ${item.precoUnitario.toLocaleString('pt-BR', {minimumFractionDigits: 2})}\n`;
                mensagem += `   Subtotal: R$ ${precoTotalItem.toLocaleString('pt-BR', {minimumFractionDigits: 2})}\n\n`;
            });
            
            // Adicionar frete se for entrega
            let freteValor = 0;
            if (metodoEntrega === 'entrega') {
                freteValor = parseFloat(document.getElementById('valor-frete').textContent.replace('R$ ', '').replace(',', '.'));
                if (!isNaN(freteValor)) {
                    totalGeral += freteValor;
                }
            }
            
            mensagem += `*💰 RESUMO DO PEDIDO:*\n`;
            mensagem += `Subtotal (Impressão): R$ ${totalImpressao.toLocaleString('pt-BR', {minimumFractionDigits: 2})}\n`;
            mensagem += `Encadernação (já inclusa): R$ ${totalEncadernacao.toLocaleString('pt-BR', {minimumFractionDigits: 2})}\n`;
            if (metodoEntrega === 'entrega' && freteValor > 0) {
                const distancia = document.getElementById('distancia-texto').textContent;
                mensagem += `Frete (${distancia} × R$ ${PRECO_FRETE_POR_KM.toFixed(2)}/km): R$ ${freteValor.toLocaleString('pt-BR', {minimumFractionDigits: 2})}\n`;
            }
            mensagem += `*TOTAL DO PEDIDO: R$ ${totalGeral.toLocaleString('pt-BR', {minimumFractionDigits: 2})}*\n\n`;
            
            mensagem += `*📦 INFORMAÇÕES DE ENTREGA:*\n`;
            if (metodoEntrega === 'retirada') {
                mensagem += `📍 Retirada: Av. Brasil, 284 - Casqueiro, Cubatão - SP\n`;
                mensagem += `⏰ Horário: Segunda a Sexta, 09:00 às 16:00\n`;
            } else {
                mensagem += `🚚 Entrega calculada por distância: R$ ${PRECO_FRETE_POR_KM.toFixed(2)} por km\n`;
            }
            
            mensagem += `\n`;
            mensagem += `*🔧 Encadernação padrão inclusa:*\n`;
            mensagem += `• Capa Preta no Final\n`;
            mensagem += `• Capa Transparente\n`;
            mensagem += `• Encadernação na Esquerda\n`;
            mensagem += `• Espiral Preto\n`;
            
            // Codificar mensagem para URL
            const mensagemCodificada = encodeURIComponent(mensagem);
            
            // Número do WhatsApp
            const numeroWhatsApp = '5513988089754';
            
            // Criar URL do WhatsApp
            const urlWhatsApp = `https://wa.me/${numeroWhatsApp}?text=${mensagemCodificada}`;
            
            // Abrir WhatsApp em nova aba
            window.open(urlWhatsApp, '_blank');
            
            // Limpar carrinho e formulário após envio
            carrinho = [];
            atualizarCarrinho();
            
            // Limpar formulário
            document.getElementById('customer-name').value = '';
            document.getElementById('customer-phone').value = '';
            document.getElementById('customer-email').value = '';
            document.getElementById('customer-cep').value = '';
            document.getElementById('customer-number').value = '';
            document.getElementById('customer-street').value = '';
            document.getElementById('customer-neighborhood').value = '';
            document.getElementById('customer-city').value = '';
            document.getElementById('customer-state').value = '';
            document.getElementById('customer-complement').value = '';
            document.getElementById('delivery-method').value = '';
            document.getElementById('customer-notes').value = '';
            
            // Resetar frete
            document.getElementById('frete-calculo').style.display = 'none';
            
            // Fechar modal do carrinho
            document.getElementById('cart-modal').style.display = 'none';
            
            // Mostrar mensagem de sucesso
            mostrarFeedback('Pedido enviado com sucesso! Você será redirecionado para o WhatsApp.');
        }
        
        // Função para buscar CEP
        async function buscarCEP() {
            const cepInput = document.getElementById('customer-cep');
            const cep = cepInput.value.replace(/\D/g, '');
            
            if (cep.length !== 8) {
                return;
            }
            
            // Mostrar loading
            document.getElementById('cep-loading').style.display = 'block';
            document.getElementById('cep-success').style.display = 'none';
            document.getElementById('cep-error').style.display = 'none';
            
            try {
                const endereco = await buscarEnderecoPorCEP(cep);
                
                if (endereco) {
                    // Preencher campos automaticamente
                    document.getElementById('customer-street').value = endereco.logradouro;
                    document.getElementById('customer-neighborhood').value = endereco.bairro;
                    document.getElementById('customer-city').value = endereco.cidade;
                    document.getElementById('customer-state').value = endereco.estado;
                    
                    // Adicionar classe para indicar que foi preenchido automaticamente
                    ['customer-street', 'customer-neighborhood', 'customer-city', 'customer-state'].forEach(id => {
                        const campo = document.getElementById(id);
                        campo.classList.add('address-autofilled');
                        setTimeout(() => campo.classList.remove('address-autofilled'), 2000);
                    });
                    
                    // Mostrar sucesso
                    document.getElementById('cep-success').style.display = 'block';
                    
                    // Focar no campo número
                    document.getElementById('customer-number').focus();
                    
                    // Se já tiver selecionado entrega, calcular frete
                    if (document.getElementById('delivery-method').value === 'entrega') {
                        calcularFreteParaCEP(cep);
                    }
                } else {
                    document.getElementById('cep-error').style.display = 'block';
                }
            } catch (error) {
                console.error('Erro ao buscar CEP:', error);
                document.getElementById('cep-error').style.display = 'block';
            } finally {
                document.getElementById('cep-loading').style.display = 'none';
            }
        }
        
        // Função para calcular frete para o CEP
        async function calcularFreteParaCEP(cep) {
            const freteCalculoDiv = document.getElementById('frete-calculo');
            
            try {
                const freteInfo = await calcularFrete(cep);
                
                if (freteInfo) {
                    document.getElementById('distancia-texto').textContent = `${freteInfo.distancia} km`;
                    document.getElementById('valor-frete').textContent = 
                        `R$ ${freteInfo.valor.toLocaleString('pt-BR', {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;
                    
                    freteCalculoDiv.style.display = 'block';
                    
                    // Atualizar carrinho com o novo frete
                    atualizarCarrinho();
                }
            } catch (error) {
                console.error('Erro ao calcular frete:', error);
                freteCalculoDiv.style.display = 'none';
            }
        }
        
        // Validar telefone
        function formatarTelefone(input) {
            let value = input.value.replace(/\D/g, '');
            
            if (value.length > 11) {
                value = value.substring(0, 11);
            }
            
            if (value.length > 10) {
                value = value.replace(/^(\d{2})(\d{5})(\d{4})/, '($1) $2-$3');
            } else if (value.length > 6) {
                value = value.replace(/^(\d{2})(\d{4})(\d{0,4})/, '($1) $2-$3');
            } else if (value.length > 2) {
                value = value.replace(/^(\d{2})(\d{0,5})/, '($1) $2');
            } else if (value.length > 0) {
                value = value.replace(/^(\d*)/, '($1');
            }
            
            input.value = value;
        }
        
        // Validar CEP
        function formatarCEP(input) {
            let value = input.value.replace(/\D/g, '');
            
            if (value.length > 8) {
                value = value.substring(0, 8);
            }
            
            if (value.length > 5) {
                value = value.replace(/^(\d{5})(\d{0,3})/, '$1-$2');
            }
            
            input.value = value;
        }
        
        // Inicializar
        document.addEventListener('DOMContentLoaded', () => {
            // Renderizar todas as apostilas inicialmente
            renderApostilas(apostilas);
            
            // Configurar eventos dos filtros
            document.getElementById('tipo').addEventListener('change', filtrarApostilas);
            document.getElementById('folhas').addEventListener('change', filtrarApostilas);
            document.getElementById('encadernacao').addEventListener('change', filtrarApostilas);
            
            // Configurar eventos da calculadora
            document.getElementById('calc-tipo').addEventListener('change', calcularPreco);
            document.getElementById('calc-folhas').addEventListener('input', calcularPreco);
            document.getElementById('calc-quantidade').addEventListener('input', calcularPreco);
            document.getElementById('calc-encadernacao').addEventListener('change', calcularPreco);
            
            // Calcular preço inicial
            calcularPreco();
            
            // Configurar eventos do carrinho
            document.getElementById('cart-icon').addEventListener('click', () => {
                document.getElementById('cart-modal').style.display = 'flex';
            });
            
            document.getElementById('close-cart').addEventListener('click', () => {
                document.getElementById('cart-modal').style.display = 'none';
            });
            
            // Fechar carrinho ao clicar fora
            document.getElementById('cart-modal').addEventListener('click', (e) => {
                if (e.target.id === 'cart-modal') {
                    document.getElementById('cart-modal').style.display = 'none';
                }
            });
            
            // Configurar eventos do formulário
            document.getElementById('customer-phone').addEventListener('input', function() {
                formatarTelefone(this);
            });
            
            document.getElementById('customer-cep').addEventListener('input', function() {
                formatarCEP(this);
            });
            
            // Evento para buscar CEP quando o usuário sai do campo
            document.getElementById('customer-cep').addEventListener('blur', buscarCEP);
            
            // Evento para mudança no método de entrega
            document.getElementById('delivery-method').addEventListener('change', function() {
                const freteCalculoDiv = document.getElementById('frete-calculo');
                const cep = document.getElementById('customer-cep').value.replace(/\D/g, '');
                
                if (this.value === 'entrega' && cep.length === 8) {
                    calcularFreteParaCEP(cep);
                } else {
                    freteCalculoDiv.style.display = 'none';
                }
                
                atualizarCarrinho();
            });
            
            // Evento para validação em tempo real do formulário
            const camposFormulario = [
                'customer-name', 'customer-phone', 'customer-email', 'customer-cep',
                'customer-number', 'customer-street', 'customer-neighborhood',
                'customer-city', 'customer-state', 'delivery-method'
            ];
            
            camposFormulario.forEach(id => {
                document.getElementById(id).addEventListener('input', () => {
                    const formValido = validarFormularioCliente();
                    const whatsappButton = document.getElementById('whatsapp-checkout');
                    whatsappButton.disabled = !(carrinho.length > 0 && formValido);
                });
            });
            
            // Configurar envio por WhatsApp
            document.getElementById('whatsapp-checkout').addEventListener('click', enviarPedidoWhatsApp);
            
            // Adicionar evento de rolagem suave para links internos
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const targetId = this.getAttribute('href');
                    if (targetId === '#') return;
                    
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        window.scrollTo({
                            top: targetElement.offsetTop - 80,
                            behavior: 'smooth'
                        });
                    }
                });
            });
        });
        
        // Adicionar animação CSS para feedback
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideUp {
                from { transform: translateY(100px); opacity: 0; }
                to { transform: translateY(0); opacity: 1; }
            }
            
            @keyframes slideDown {
                from { transform: translateY(0); opacity: 1; }
                to { transform: translateY(100px); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>

<div class="footer-links">
    <a href="#apostilas">
        <i class="fas fa-chevron-right"></i>
        Apostilas
    </a>
    <a href="#calculadora">
        <i class="fas fa-chevron-right"></i>
        Calculadora de Preços
    </a>
    <a href="#">
        <i class="fas fa-chevron-right"></i>
        Sobre Nós
    </a>
    <a href="#">
        <i class="fas fa-chevron-right"></i>
        Termos de Serviço
    </a>

    <a href="politica-privacidade.html">
    <i class="fas fa-chevron-right"></i>
    Política de Privacidade
</a>
    
</div>
    
</html>


